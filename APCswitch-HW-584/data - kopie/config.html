"<!doctype html>\n"
"<html>\n"
" <head>\n"
"  <meta charset='utf-8'>\n"
"  <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>\n"
"  <meta name='viewport' content='width=device-width, initial-scale=1'>\n"
"  <title>APCswitch configuration</title>\n"
"  <link rel='stylesheet' type='text/css' href='style.css'>\n"
" </head>\n"
" <body onload='firstfill()'>\n"
"  <ul>\n"
"   <li><a class='pull-left' href='#'>APCswitch</a></li>\n"
"   <li><a class='pull-left' href='/index.html'>Home</a></li>\n"
"   <li><a class='pull-left' href='/outlets.html'>Outlets</a></li>\n"
"   <li><a class='pull-left active' href='/config.html'>Config</a></li>\n"
"  </ul>\n"
"  <br><br><br><br><br>\n"
"  <center>\n"
"   <table id='tab1_u' style='display: inline-block;'>\n"
"    <tbody id='tbody_u'>\n"
"    <tr><th>ID</th><th>Username</th><th>Password</th><th>Outlets</th></tr>\n"
"    <tr><td>1</td><td>none</td><td>none</td><td>none</td></tr>\n"
"    <tr><td>2</td><td>none</td><td>none</td><td>none</td></tr>\n"
"    <tr><td>3</td><td>none</td><td>none</td><td>none</td></tr>\n"
"    <tr><td>4</td><td>none</td><td>none</td><td>none</td></tr>\n"
"    <tr><td>5</td><td>none</td><td>none</td><td>none</td></tr>\n"
"    <tr><td>6</td><td>none</td><td>none</td><td>none</td></tr>\n"
"    <tr><td>7</td><td>none</td><td>none</td><td>none</td></tr>\n"
"    <tr><td>8</td><td>none</td><td>none</td><td>none</td></tr>\n"
"    </tbody>\n"
"   </table>\n"
"   &nbsp;&nbsp;&nbsp;\n"
"   <table id='tab1_o' style='display: inline-block;'>\n"
"    <tbody id='tbody_o'>\n"
"    <tr><th>Outlet</th><th>ServerID</th></tr>\n"
"    <tr><td>1</td><td>none</td></tr>\n"
"    <tr><td>2</td><td>none</td></tr>\n"
"    <tr><td>3</td><td>none</td></tr>\n"
"    <tr><td>4</td><td>none</td></tr>\n"
"    <tr><td>5</td><td>none</td></tr>\n"
"    <tr><td>6</td><td>none</td></tr>\n"
"    <tr><td>7</td><td>none</td></tr>\n"
"    <tr><td>8</td><td>none</td></tr>\n"
"    </tbody>\n"
"   </table>\n"
"   <br><br><button class='button' onclick='put_config()'>Save</button>\n"
"   <br><br><br><input type='text' size='60' id='resultstr' placeholder=''>\n"
"  </center>\n"
"  <br><br>\n"
" </body>\n"
"</html>\n"
"<script>\n"
" var us = sessionStorage.getItem('user') ;\n"
" var pw = sessionStorage.getItem('password') ;\n"
"\n"
" function firstfill(\n)"
" {\n"
"  var xhr = new XMLHttpRequest() ;\n"
"\n"
"  var theUrl = 'get_config?user=' + us + '?password=' + pw ;\n"
"  resultstr.value = 'Reading config info' ;\n"
"  xhr.onreadystatechange = function()\n"
"  {\n"
"   var rw2, rows, up, n, row, cell, id, s ;\n"
"   var tbody = document.getElementById('tbody_u') ;\n"
"   var table = document.getElementById('tab1_u') ;\n"
"\n"
"   if ( xhr.readyState == XMLHttpRequest.DONE )\n"
"   {"
"    rw2 = xhr.responseText.split('||') ;\n"
"    resultstr.value = rw2[0] ;\n"
"    rows = rw2[0].split('|') ;\n"
"    for ( n = 0 ; n < rows.length ; n++ )\n"
"    {\n"
"     up = rows[n].split('/') ;\n"
"     id = 'UN_' + n ;\n"
"     s = \"<input size='10' id='' + id + ''>\" ;\n"
"     table.rows[n+1].cells[1].innerHTML=s ;\n"
"     document.getElementById(id).value = up[0] ;\n"
"     id = 'UP_' + n ;\n"
"     s = \"<input size='10' id='' + id + ''>\" ;\n"
"     table.rows[n+1].cells[2].innerHTML=s ;\n"
"     document.getElementById(id).value = up[1] ;\n"
"     id = 'UM_' + n ;\n"
"     s = \"<input size='9' id='' + id + ''>\" ;\n"
"     table.rows[n+1].cells[3].innerHTML=s ;\n"
"     document.getElementById(id).value = up[2] ;\n"
"    }\n"
"    tbody = document.getElementById('tbody_o') ;\n"
"    table = document.getElementById('tab1_o') ;\n"
"    rows = rw2[1].split('|') ;\n"
"    for ( n = 0 ; n < rows.length-1 ; n++ )\n"
"    {\n"
"     id = 'O_' + n ;\n"
"     s = \"<input size='7' id='' + id + ''>\" ;\n"
"     table.rows[n+1].cells[1].innerHTML=s ;\n"
"     document.getElementById(id).value = rows[n] ;\n"
"    }\n"
"    resultstr.value = '' ;\n"
"   }\n"
"  }\n"
"  xhr.open ( 'GET', theUrl ) ;\n"
"  xhr.send() ;\n"
" }\n"
"\n"
" function saveconf()\n"
" {\n"
"  var n, id ;\n"
"  var xhr = new XMLHttpRequest() ;\n"
"  var theUrl = 'put_config&user=' + us + '?password=' + pw ;\n"
"  resultstr.value = 'Save config requested' ;\n"
"  for ( n = 0 ; n < 8 ; n++ )\n"
"  {\n"
"   id = 'UN_' + n ;\n"
"   theUrl += '?' + id + '=' + document.getElementById(id).value ;\n"
"   id = 'UP_' + n ;\n"
"   theUrl += '?' + id + '=' + document.getElementById(id).value ;\n"
"   id = 'UM_' + n ;\n"
"   theUrl += '?' + id + '=' + document.getElementById(id).value ;\n"
"   id = 'O_' + n ;\n"
"   theUrl += '?' + id + '=' + document.getElementById(id).value ;\n"
"  }\n"
"  xhr.onreadystatechange = function() {\n"
"   if ( xhr.readyState == XMLHttpRequest.DONE )\n"
"    {\n"
"     resultstr.value = xhr.responseText.trim() ;\n"
"    }\n"
"   }\n"
"   xhr.open ( 'GET', theUrl ) ;\n"
"   xhr.send() ;\n"
" }\n"
"\n"
"</script>\n"
"<noscript>\n"
"  Sorry, APCswitch web-interface does not work without JavaScript!\n"
"</noscript>\n" ;
